**后面的内容也需要大改 QAQ**

- [ ] 架构图中的诱饵仓库要修改成线索仓库

## 静态线索和动态线索

动态线索

1. 网络通信
2. 业务关系
3. 组织关系  

静态线索  

1. 网络、拓扑、主机  
2. IP、漏洞  
3. 安防  
4. 文件

线索这部分应该怎么写？

1. 线索的定义
2. 解释静态线索和静态线索
3. 简要说明静态线索和动态线索的构建
4. 简要说明这些线索会被怎样使用

线索仓库是指有意构建的虚假存储库，线索仓库里面包含了大量的虚假信息，流量模拟脚本等。线索仓库中存储的线索可以分为两类即静态线索和动态线索，静态线索包括网络拓扑、漏洞以及敏感信息等，动态线索包括网络通信、业务关系、组织关系等。对于静态线索中的敏感信息，我们可以根据真实数据结合深度学习算法构造，但是需要注意隐私保护问题。我们也可以构造一些元数据，然后通过对抗生成模型去扩展这些信息，这些信息可以被分类并填充到各种实体中，这些实体指的是邮件、组织人员名单、敏感文件等。对于动态线索中的网络通信，我们可以使用网络流量生成器去实现，但是为了模拟特定的流量模式和行为，更灵活的控制请求细节，我们需要构造自定义的脚本来实现，例如我们可以构造服务请求的脚本，不定时的向某个服务节点发送请求，构造虚假流量，让攻击者误以为该服务器是核心服务器，从而诱导攻击者对其进行攻击。线索仓库是架构中重要的基础设施，是构造蜜罐镜像仓库与调整策略的基础。

蜜罐镜像仓库是指专门用于存储和管理蜜罐镜像的仓库。蜜罐镜像是一种模拟真实系统或服务的虚拟镜像，旨在吸引攻击者并监测他们的行为。蜜罐镜像仓库通常包含多个预配置的蜜罐镜像，这些镜像模拟各种不同的系统、服务或应用程序。蜜罐镜像仓库的主要目的是提供一种方便的方式来部署和管理蜜罐系统。它可以帮助安全团队快速搭建和配置蜜罐环境，监测攻击者的活动并获取有关攻击技术和行为的信息。

**中间的内容省略**

在蜜罐系统中，**Prometheus** 可以用于监控和收集蜜罐的指标数据，以实时监测和分析攻击者的行为。下面是 Prometheus 在蜜罐系统中的一些应用方式：

1. 监控蜜罐指标：通过在蜜罐系统中安装 Prometheus 的监控代理（exporter），可以收集蜜罐的各种指标，如网络流量、系统资源利用率、登录尝试次数等。这些指标可以帮助安全团队了解攻击者的活动并及时做出响应。
2. 异常检测和警报：Prometheus 提供了强大的查询语言和报警规则功能，可以根据蜜罐指标数据设置异常检测和警报条件。当检测到异常活动或攻击事件时，Prometheus 可以触发警报，并通知安全团队采取相应的措施。
3. 可视化和分析：Prometheus 提供了仪表板和可视化工具，如 Grafana，可以将蜜罐指标数据以图表和图形的形式展示出来，帮助安全团队更直观地了解蜜罐的状态和攻击者的行为。同时，通过对指标数据进行分析和趋势预测，可以识别攻击模式和攻击者的策略。
4. 镜像漏洞扫描：Prometheus 可以结合镜像漏洞扫描工具，如 Clair，对蜜罐系统中的镜像进行漏洞扫描和监测。通过收集漏洞扫描结果并与 Prometheus 指标数据进行关联，可以快速发现蜜罐镜像中存在的安全漏洞，并及时采取修复措施。

总而言之，Prometheus 在蜜罐系统中可以提供实时监测、异常检测、警报、可视化和分析等功能，帮助安全团队更好地了解攻击者的行为，并采取相应的安全措施保护系统。

- [ ] 你首先要想清楚存储系统存储那些东西

存储系统存储：

1. 环境部署文件
2. 环境调整策略
3. 时间序列日志
4. 必要的分析结果
5. 环境备份

---

**容器数据全部拷贝下来，用于后续的溯源分析。**

## 画图的架构

1. 企业内网
2. 汇聚/核心交换机
3. 接入交换机

但问题是如何体现初始环境部署的呢？

如何动态的模拟交换机、路由器和组网呢？同时还有有个 **IP 管理中心**，还要有心跳机制去保证部署的节点是存活的，保存所有信息并下线。

心跳机制等等，我感觉好像有点触及到架构师的边边了捏。

![[Snipaste/Pasted image 20230528160020.png]]
