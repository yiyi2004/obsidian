![image-20240302151137398](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302151137398.png)



dbquery 扩展性 HTTP的模块。cache

![image-20240302151302685](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302151302685.png)

中间 panic 不会释放锁

当锁是指针的时候，必须初始化。

如果锁不加指针，那么一定要指针接收器

![image-20240302152314296](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302152314296.png)

- viper wroking directory 调节配置的问题，当前工作目录的 config 文件

- 相对路径的定位一定是当前工作路径的相对

![image-20240302154642093](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302154642093.png)

账号密码的信息不能修改，而且不能展示在配置中，sms 中的敏感信息。

实时更新，使用配置中心，配置中心，实时生效。0~10 随机数 < 1 控制流量

etcd 是不错的选择

git tag

![image-20240302155344397](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302155344397.png)

集群就是 , 分开

![image-20240302160214254](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302160214254.png)

- 应该告诉你文件变了，但是不能告诉你文件中的哪些 key 变了。

- 远程配置文件改了之后不会有反应
- 统一配置 API

初始化的时候使用配置，只需要在 ioc 配置。

![image-20240302160822279](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302160822279.png)

- 封装类似于 viper 的接口

权限控制的 KPI

灰度发布 一开始只是 10% 后面是 20%

uber/atomic 

![image-20240302161253307](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302161253307.png)

- 配置文件修改之后应该如何操作。

![image-20240302162946256](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302162946256.png)

![image-20240302163107762](C:\Users\zhang\AppData\Roaming\Typora\typora-user-images\image-20240302163107762.png)

db 会自动关闭，连接。