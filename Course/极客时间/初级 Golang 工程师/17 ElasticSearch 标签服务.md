- ES 入门
	- 基本概念
		- 索引
		- 文档
		- 分片
		- 复制
- ES API 入门
	- 创建索引
	- 写入文档
	- 查询文档
		- range
		- term
		- match
		- …
- 搜索服务设计与实现
	- 业务方上报数据
		- 用户索引创建
		- 文章索引创建
	- 业务方搜索接口
- 标签服务设计与实现
	- 需求分析
		- 普通标签
		- 层级标签
	- 标签服务设计与实现
- 利用标签来优化搜索
	- 搜索结果的分数
	- 为搜索条件赋予不同分数  

## ES 入门

ES 简介

![[Snipaste/Pasted image 20240311214112.png]]

1. 基于 Lucene、快速、可靠的存储、检索和分析大量数据
2. 见到高效、帮助开发人员高效快熟构建和部署应用程序
3. 近实时搜索，几秒钟内被索引和搜搜
4. 极大数据量支持，10 甚至上百节点 PB 级数据的存储和检索
5. 灵活的 RESTful API 轻松与各种语言和应用程序集成

- 提供从业务到可观测性等全方面的解决方案
- 依赖两个字：搜索

为什么使用 ES

![[Snipaste/Pasted image 20240311215531.png]]

1. 高性能
2. 近实时
3. 大数据
4. 丰富的功能
5. 灵活的查询和搜索操作
6. 社区支持与生态系统

ES 的基本概念  

![[Snipaste/Pasted image 20240311220736.png]]

- 数据组织方式
	- 索引：数据表
	- 文档：数据
- 数据的部署方式
	- 分片：分库分表
	- 副本：主从同步中的从库

大型中间件类似的机制

- 分片：没办法将数据都放在同一个地方，单节点撑不住
- 副本：没有副本、节点崩溃、数据全没

### 索引和倒排索引

![[Snipaste/Pasted image 20240311221811.png]]

- 索引两个含义
	- 数据表
	- ES 特殊的索引形式，倒排索引
- 正排：找到数据 ---> 属性
- 倒排：属性 ---> 找到这些属性对应的数据

![[Snipaste/Pasted image 20240311221930.png]]

- 倒排索引的例子

### 倒排索引的组织形式

## ES API

## 搜索服务设计与实现

## 标签服务设计与实现

## 利用标签优化搜索
