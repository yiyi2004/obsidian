**后面的内容也需要大改 QAQ**

- [x] 架构图中的诱饵仓库要修改成线索仓库 ✅ 2023-05-28
- [ ] 这些动态线索如何构建，动态线索的构建需要具体问题具体分析，虽然情况可能特殊，但是我们可以预先设置几个常见的动态线索，比如请求某一服务的脚本构建。
- [ ] 今天先完成初级的内容，明天再修改修改
- [ ] 图已经差不多了，明天换换颜色应该就可以了

## 静态线索和动态线索

动态线索

1. 网络通信
2. 业务关系
3. 组织关系  

静态线索  

1. 网络、拓扑、主机  
2. IP、漏洞  
3. 安防  
4. 文件

线索这部分应该怎么写？

1. 线索的定义
2. 解释静态线索和静态线索
3. 简要说明静态线索和动态线索的构建
4. 简要说明这些线索会被怎样使用

**线索仓库**是指有意构建的虚假存储库，线索仓库里面包含了大量的虚假信息，流量模拟脚本等。线索仓库中存储的线索可以分为两类即静态线索和动态线索，静态线索包括网络拓扑、漏洞以及敏感信息等，动态线索包括网络通信、业务关系、组织关系等。对于静态线索中的敏感信息，我们可以根据真实数据结合深度学习算法构造，但是需要注意隐私保护问题。我们也可以构造一些元数据，然后通过对抗生成模型去扩展这些信息，这些信息可以被分类并填充到各种实体中，这些实体指的是邮件、组织人员名单、敏感文件等。对于动态线索中的网络通信，我们可以使用网络流量生成器去实现，但是为了模拟特定的流量模式和行为，更灵活的控制请求细节，我们需要构造自定义的脚本来实现，例如我们可以构造服务请求的脚本，不定时的向某个服务节点发送请求，构造虚假流量，让攻击者误以为该服务器是核心服务器，从而诱导攻击者对其进行攻击。线索仓库是架构中重要的基础设施，是构造蜜罐镜像仓库与调整策略的基础。

**蜜罐镜像仓库**是指专门用于存储和管理蜜罐镜像的仓库。蜜罐镜像是一种模拟真实系统或服务的虚拟镜像，旨在吸引攻击者并监测他们的行为。蜜罐镜像仓库通常包含多个预配置的蜜罐镜像，这些镜像模拟各种不同的系统、服务或应用程序。蜜罐镜像仓库的主要目的是提供一种方便的方式来部署和管理蜜罐系统。它可以帮助安全团队快速搭建和配置蜜罐环境，监测攻击者的活动并获取有关攻击技术和行为的信息。

**中间的内容省略**

在 Kubernetes 中，**资源清单**是用来定义和描述集群中各种资源的配置文件。资源清单以 YAML 或 JSON 格式表示，包含了创建、更新或删除 Kubernetes 资源所需的信息。

**资源清单**在蜜网中扮演重要角色，其作用主要体现在以下几个方面：

1. 系统资产管理：资源清单记录了蜜网中所有的系统资产，包括服务器、网络设备、蜜罐实例等。通过资源清单，安全团队可以全面了解和管理蜜网中的各种资产，包括其配置、位置、状态等信息。
2. 安全漏洞管理：资源清单可以用于跟踪和管理蜜网中系统资产的安全漏洞。通过对资源清单中的资产进行漏洞扫描和评估，可以及时发现潜在的安全风险，并采取相应的修复措施，以增强蜜网的安全性。
3. 资源调度和部署：资源清单可以帮助安全团队进行资源调度和部署策略的制定。通过了解蜜网中各个资产的分布和性能情况，可以合理分配和配置资源，以实现蜜罐系统的高效运行和优化。
4. 漏洞仿真和漏洞管理：资源清单可以用于漏洞仿真和漏洞管理。通过在资源清单中标记出已部署的蜜罐实例和模拟漏洞，可以引诱攻击者攻击这些虚假目标，并收集攻击数据和分析攻击行为。

	总之，资源清单在蜜网中起着重要作用，通过对系统资产进行全面记录、管理和监控，帮助安全团队有效保护蜜网，发现和应对攻击事件，并提升蜜网的安全性和可靠性。

在蜜罐系统中，**Prometheus** 可以用于监控和收集蜜罐的指标数据，以实时监测和分析攻击者的行为。下面是 Prometheus 在蜜罐系统中的一些应用方式：

1. 监控蜜罐指标：通过在蜜罐系统中安装 Prometheus 的监控代理（exporter），可以收集蜜罐的各种指标，如网络流量、系统资源利用率、登录尝试次数等。这些指标可以帮助安全团队了解攻击者的活动并及时做出响应。
2. 异常检测和警报：Prometheus 提供了强大的查询语言和报警规则功能，可以根据蜜罐指标数据设置异常检测和警报条件。当检测到异常活动或攻击事件时，Prometheus 可以触发警报，并通知安全团队采取相应的措施。
3. 可视化和分析：Prometheus 提供了仪表板和可视化工具，如 Grafana，可以将蜜罐指标数据以图表和图形的形式展示出来，帮助安全团队更直观地了解蜜罐的状态和攻击者的行为。同时，通过对指标数据进行分析和趋势预测，可以识别攻击模式和攻击者的策略。
4. 镜像漏洞扫描：Prometheus 可以结合镜像漏洞扫描工具，如 Clair，对蜜罐系统中的镜像进行漏洞扫描和监测。通过收集漏洞扫描结果并与 Prometheus 指标数据进行关联，可以快速发现蜜罐镜像中存在的安全漏洞，并及时采取修复措施。

总而言之，Prometheus 在蜜罐系统中可以提供实时监测、异常检测、警报、可视化和分析等功能，帮助安全团队更好地了解攻击者的行为，并采取相应的安全措施保护系统。

- [ ] 你首先要想清楚存储系统存储那些东西

存储系统存储：

1. 环境部署文件
2. 环境调整策略
3. 时间序列日志
4. 必要的分析结果
5. 环境备份

存储系统要强调为了处理异构数据

---

**容器数据全部拷贝下来，用于后续的溯源分析。**

## 画图的架构

1. 企业内网
2. 汇聚/核心交换机
3. 接入交换机

但问题是如何体现初始环境部署的呢？

如何动态的模拟交换机、路由器和组网呢？同时还有有个 **IP 管理中心**，还要有心跳机制去保证部署的节点是存活的，保存所有信息并下线。

心跳机制等等，我感觉好像有点触及到架构师的边边了捏。

![[Snipaste/Pasted image 20230528160020.png]]

## 线索仓库的构建

线索主要分为静态线索和动态线索，静态线索包括网络拓扑、主机环境、IP 配置、漏洞和敏感文件等。动态线索包括网络通信、业务关系和组织关系等。对于动态线索，我们只能通过手动构建。对于静态线索，我们需要构造大量的敏感信息，手动构建这些信息需要花费大量的人力成本，因此为了减少人力成本，可以利用现有的深度学习技术去生成我们需要的隐私数据。为了能够使用算法生成隐私数据，第一种方法是预先构建一些元数据，即起始的隐私数据，然后根据这些元数据利用深度对抗模型生成。

我们构造的线索主要分为静态线索和动态线索，静态线索涉及网络拓扑、主机环境、IP 配置、漏洞以及敏感文件等。动态线索涉及网络通信、业务关系和组织关系等。对于动态线索，我们目前只能通过手动的方式构建，如模拟流量生成的脚本。对于静态线索，我们需要构造大量的敏感信息，这些敏感信息将会被填充到电子邮件、人员信息表、敏感文件中，这需要花费大量的人力成本，为了减少这种成本，我们选择利用深度学习方法根据真实数据生成这些敏感信息。然而，在生成敏感文件时，隐私保护是一个重要的考虑因素，需要确保生成的文件不包含真实的敏感信息以及不能根据生成信息推测出原有的真实数据。下面我们将会详细介绍 
