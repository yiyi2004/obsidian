1. 加密算法 BCrypt
2. 跨域问题
	1. 发送方协议 + 域名 + 端口 != 接收方的
	2. preflight 里面高数浏览器接收哪些
	3. Gin 提供跨域的 Middleware
	4. **跨域问题设置哪些头部**
3. Gin Middleware
	1. 什么是
	2. 原理是什么
	3. 一个具体的方案 —— 限流方案
	4. ginx
		1. web 治理
		2. 可观测性
		3. 身份认证和鉴权
4. 性能优化考虑参数是分配在堆上还是栈上
5. User 表的设计外键索引。
6. 加密算法
	1. PBKDF2 额外存储 salt
	2. BCrypt 号称是最安全的
7. select for update 的并发问题
8. Cookie 关键配置
	1. Domain
	2. Path
	3. Max-age Expire 只保留必要时间
	4. Http-Only —— true 浏览器上的 JS 没有办法使用 cookie，永远设置为 true
	5. Secure
	6. SameSite 是否允许跨站发送 Cookie
9. JWT token 位置
10. 设计模式，builder 模式，很好的设计

---

[[../02-2 用户基本功能和 GORM 入门|02-2 用户基本功能和 GORM 入门]]

1. AOP 方案，所有业务都关心的东西
2. CORS
	1. AllowCrendentials
	2. AllowHeader
	3. ExposeHeader
	4. AllowOrignFunc 哪些来源是被允许的
3. BCrypt
	1. 不需要自己生成盐值
	2. 不需要额外存储盐值
	3. 可以通过 cost 控制加密性能
	4. 同样的文本，加密后的结果是不一样的
4. 什么是 Cookie 和 Session
	1. 定义
		1. 绘画管理、个性化配置、跟踪
		2. 通常通过 cookie 传递
			1. 查询参数
			2. header
			3. cookie
	2. 相同
	3. 区别
		1. 存储位置
		2. 安全性
		3. 生命周期
		4. 资源开销
5. **map**
	1. [[../../../../Coding/Go/深入理解go/Go Map 原理|Go Map 原理]]
6. **channel**[[../../../../Coding/Go/深入理解go/Go Channel|Go Channel]]

---

[[../03 Session 和 JWT|03 Session 和 JWT]]

1. cookie 的实现
2. 刷新 Session 的过期时间
	1. 每次访问刷新
	2. 最后访问刷新
	3. 固定时间刷新
	4. 长短 token
3. JWT
	1. Header JWT 元数据、描述 token 本身的数据 JSON 对象
	2. Payload 数据内容 JSON 对象
	3. Signature 根据 head + token 签名
4. JWT 跨域设置
5. JWT 优点
	1. 无状态和可扩展性：服务端不需要保存用户的认证信息和会话状态，已于扩展。
	2. 安全性 支持对称加密 HMAC 和非对称加密 RSA
	3. 自包含
6. 注意
	1. HTTPS 可能拦截
	2. 如果被盗用，过期之前都可以
	3. Payload Base64 编码 敏感信息 X
7. **雪花 ID 分布式 ID 生成器是干什么的**
8. **singleflight**
9. 限流降级 + 特色部分  

---

1. **单机限流和集群限流** (Redis)
2. 滑动窗口算法，需要分布式锁
3. 识别攻击者和正常用户——二次验证
	1. 浏览器指纹
	2. IP 归属地问题
	3. 尽可能采集前端信息
4. 检查前端接口，而后加入限流功能
	1. 可以考虑整个集群限流
	2. 针对核心业务的接口限流
	3. 针对不登录就可以访问的接口限流
5. 为 Gin 添加限流插件
	1. 单机限流
		1. 令牌桶算法
		2. 漏桶算法
		3. 滑动窗口算法
		4. 固定窗口算法
	2. 基于 Redis 的限流
	3. 基于 Redis 的 IP 限流
6. 面试要点
	1. Session 过期时间的设置
		1. 设置 10 分钟过期
		2. 每次访问都刷新，性能差
		3. 快要过期再刷新 —— 恰好边界 不好处理
		4. 固定时间间隔

写代码的原则

1. 开闭原则
2. 面向接口编程
3. 装饰器模式
4. 坚持依赖注入
5. DDD
6. TDD —— 先写测试，再写业务代码。从用户的角度去考虑接口应该怎么设计。  
