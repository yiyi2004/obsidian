- 网络环境搭建
- 两套方案
	- Docker
	- 虚拟机
- Snort

# VMware 虚拟网络环境搭建

## 大纲
- 环境的组成部分
- 各个组成部分的功能
- snort 简要概述

本次虚拟环境搭建用到了以下组件：
1. Nginx
2. Snort
3. DVWA
4. MySQL

你不如先把你的代办做一下吧。

上面 4 个简介

> - 正确的路径是 /usr/local/snort 

## 内容
### 基本组件介绍
- Nginx 是一款轻量级的 Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，在 BSD-like 协议下发行。其特点是占有内存少，并发能力强，事实上 Nginx 的并发能力在同类型的网页服务器中表现较好。
- Snort是一个跨平台、轻量级的网络入侵检测工具，从入侵检测的分类上看，Snort应当属于基于网络的误用检测。针对每一种入侵行为，都提炼出它的特征并按照规范写成规则，从而形成一个规则库，将捕获的数据包对照规则库逐一匹配，若匹配成功，则认为该入侵行为成立。
- DVWA全称为Damn Vulnerable Web Application，意为存在糟糕漏洞的web应用。它是一个基于PHP/MySQL开发的存在糟糕漏洞的web应用，旨在为专业的安全人员提供一个合法的环境，来测试他们的工具和技能。帮助web开发人员理解web应用保护的过程，还可以在课堂中为师生的安全性教学提供便利。DVWA是一个RandomStorm开源项目，了解更多关于RandomStorm开源项目可以访问 http://www.randomstorm.com. DVWA项目开始于2008年12月，并逐渐受到欢迎。 现在，全世界有成千上万的安全专业人员，学生和教师正在使用它。 DVWA现在已包含在流行的渗透测试Linux发行版中，例如Samurai的Web测试框架等。
- MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一，在 WEB 应用方面，MySQL 是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。

### 整体架构
目前仅仅搭建了比较简单的网络结构，目前有两种不同的部署模式，一是以旁路有的方式部署 Snort，将经过网关的流量均转发给 Snort(部署在 Linux 上)，Snort 根据接受到的网络流量以及自身的规则集进行判断是否报警。二是将 Snort 部署在网关上，这种方式易于实现用 Snort 作为 IPS，可以通过 Snort 和 Iptables 的联动中断和阻止恶意流量，缺点是 Snort 本身会占用大量的系统资源，**导致网络阻塞**。

### 虚拟机部署
本次虚拟环境搭建使用了 4 台虚拟机，分别部署 Nginx、DVWA、MySQL 和 Snort3，其中 Snort3 部署在 Cnetos-Stream-8-x86_64 上，其余组件部署在 Centos-7-X86_64 上。上述组件均可以通过 Docker 安装，本实验采用 Docker 安装方式，上诉组件均提供了官方的 Docker 镜像，因此安装起来比较容易，但是如果需要定制化的组件(比如 Snort3)，需要进入容器进行配置。
